# ูุจูุงฺฏ ูุงุฑุณ API

ฺฉ API ฺฉุงูู ุจุฑุง ูุจูุงฺฏ ูุงุฑุณ ุจุง ูุงุจูุชโูุง ุงุญุฑุงุฒ ููุชุ ูุฏุฑุช ููุดโูุง ู ุนููุงุช CRUD.

## ูฺฺฏโูุง

- ๐ **ุงุญุฑุงุฒ ููุช JWT**: ุณุณุชู ุงูู ูุฑูุฏ ู ุซุจุชโูุงู
- ๐ฅ **ูุฏุฑุช ููุดโูุง**: ููุดโูุง ฺฉุงุฑุจุฑ ุนุงุฏ ู ุงุฏูู
- ๐ **ูุฏุฑุช ููุงูุงุช**: ุงุฌุงุฏุ ูุฑุงุดุ ุญุฐู ู ูุดุงูุฏู ููุงูุงุช
- ๐ **ุฏุณุชูโุจูุฏโูุง**: ุณุงุฒูุงูุฏู ููุงูุงุช ุฏุฑ ุฏุณุชูโุจูุฏโูุง ูุฎุชูู
- ๐ฌ **ุณุณุชู ูุธุฑุงุช**: ุงูฺฉุงู ูุธุฑุฏู ุฑู ููุงูุงุช
- ๐ผ๏ธ **ุขูพููุฏ ุชุตูุฑ**: ุขูพููุฏ ุชุตุงูุฑ ุจุฑุง ููุงูุงุช
- ๐ **ูุณุชูุฏุงุช Swagger**: ูุณุชูุฏุงุช ฺฉุงูู API

## ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

### 1. ูุตุจ ูุงุจุณุชฺฏโูุง
```bash
npm install
```

### 2. ุงุฌุงุฏ ุงุฏูู ูพุดโูุฑุถ
```bash
node scripts/createAdmin.js
```

### 3. ุงุฌุฑุง ุณุฑูุฑ
```bash
npm start
```

ุณุฑูุฑ ุฑู ูพูุฑุช 4004 ุงุฌุฑุง ูโุดูุฏ: `http://localhost:4004`

## ุงุทูุงุนุงุช ุงุฏูู ูพุดโูุฑุถ

- **ูุงู ฺฉุงุฑุจุฑ**: `admin`
- **ุงูู**: `admin@blog.com`
- **ุฑูุฒ ุนุจูุฑ**: `admin123`

โ๏ธ **ุชูุฌู**: ุญุชูุงู ูพุณ ุงุฒ ุงููู ูุฑูุฏุ ุฑูุฒ ุนุจูุฑ ุฑุง ุชุบุฑ ุฏูุฏ!

## ุงุณุชูุงุฏู ุงุฒ API

### ุงุญุฑุงุฒ ููุช

#### ุซุจุชโูุงู ฺฉุงุฑุจุฑ ุฌุฏุฏ
```bash
POST /api/auth/register
Content-Type: application/json

{
  "username": "user1",
  "email": "user1@example.com",
  "password": "password123",
  "role": "user"
}
```

#### ูุฑูุฏ
```bash
POST /api/auth/login
Content-Type: application/json

{
  "username": "admin",
  "password": "admin123"
}
```

ูพุงุณุฎ ุดุงูู token ุงุณุช ฺฉู ุจุงุฏ ุฏุฑ header ุฏุฑุฎูุงุณุชโูุง ุจุนุฏ ุงุณุชูุงุฏู ุดูุฏ:
```json
{
  "message": "ูุฑูุฏ ููููุชโุขูุฒ",
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": "abc123",
    "username": "admin",
    "email": "admin@blog.com",
    "role": "admin"
  }
}
```

### ุงุณุชูุงุฏู ุงุฒ Token

ุจุฑุง ุฏุฑุฎูุงุณุชโูุง ฺฉู ูุงุฒ ุจู ุงุญุฑุงุฒ ููุช ุฏุงุฑูุฏุ token ุฑุง ุฏุฑ header ุงุถุงูู ฺฉูุฏ:

```bash
Authorization: Bearer YOUR_TOKEN_HERE
```

## ูุฌูุฒูุง ุฏุณุชุฑุณ

### ุนููุงุช ุนููู (ุจุฏูู ูุงุฒ ุจู ูุฑูุฏ)
- ูุดุงูุฏู ููุงูุงุช: `GET /api/articles`
- ูุดุงูุฏู ุฏุณุชูโุจูุฏโูุง: `GET /api/categories`
- ูุดุงูุฏู ูุธุฑุงุช: `GET /api/comments`

### ุนููุงุช ฺฉุงุฑุจุฑุงู ูุงฺฏู ุดุฏู
- ุงุฌุงุฏ ูุธุฑ: `POST /api/comments`
- ูุฑุงุด ูุธุฑ ุฎูุฏ: `PUT /api/comments/:id`
- ุญุฐู ูุธุฑ ุฎูุฏ: `DELETE /api/comments/:id`

### ุนููุงุช ุงุฏููโูุง ููุท
- ุงุฌุงุฏ ููุงูู: `POST /api/articles`
- ูุฑุงุด ููุงูู: `PUT /api/articles/:id`
- ุญุฐู ููุงูู: `DELETE /api/articles/:id`
- ุงุฌุงุฏ ุฏุณุชูโุจูุฏ: `POST /api/categories`
- ูุฑุงุด ุฏุณุชูโุจูุฏ: `PUT /api/categories/:id`
- ุญุฐู ุฏุณุชูโุจูุฏ: `DELETE /api/categories/:id`
- ูุฏุฑุช ฺฉุงุฑุจุฑุงู: `/api/auth/users/*`

## ูููููโูุง ุงุณุชูุงุฏู

### ุงุฌุงุฏ ููุงูู (ููุท ุงุฏูู)
```bash
POST /api/articles
Authorization: Bearer YOUR_ADMIN_TOKEN
Content-Type: application/json

{
  "title": "ุนููุงู ููุงูู",
  "content": "ูุญุชูุง ููุงูู...",
  "categoryId": "category_id",
  "author": "ูุงู ููุณูุฏู"
}
```

### ุงุฌุงุฏ ูุธุฑ (ฺฉุงุฑุจุฑุงู ูุงฺฏู ุดุฏู)
```bash
POST /api/comments
Authorization: Bearer YOUR_TOKEN
Content-Type: application/json

{
  "content": "ุงู ฺฉ ูุธุฑ ุชุณุช ุงุณุช",
  "articleId": "article_id"
}
```

### ุขูพููุฏ ุชุตูุฑ ุจุฑุง ููุงูู (ููุท ุงุฏูู)
```bash
POST /api/articles/with-image
Authorization: Bearer YOUR_ADMIN_TOKEN
Content-Type: multipart/form-data

title: ุนููุงู ููุงูู
content: ูุญุชูุง ููุงูู
image: [ูุงู ุชุตูุฑ]
categoryId: category_id
author: ูุงู ููุณูุฏู
```

## ูุณุชูุฏุงุช API

ูุณุชูุฏุงุช ฺฉุงูู Swagger ุฏุฑ ุขุฏุฑุณ ุฒุฑ ุฏุฑ ุฏุณุชุฑุณ ุงุณุช:
```
http://localhost:4004/api-docs
```

## ุณุงุฎุชุงุฑ ูพุฑูฺู

```
โโโ controllers/          # ููุทู ุชุฌุงุฑ
โ   โโโ authController.js
โ   โโโ articleController.js
โ   โโโ categoryController.js
โ   โโโ commentController.js
โโโ middleware/           # ูุงูโุงูุฒุงุฑูุง
โ   โโโ auth.js
โโโ routes/              # ุชุนุฑู ูุณุฑูุง
โ   โโโ auth.js
โ   โโโ articles.js
โ   โโโ categories.js
โ   โโโ comments.js
โโโ scripts/             # ุงุณฺฉุฑูพุชโูุง ฺฉูฺฉ
โ   โโโ createAdmin.js
โโโ public/              # ูุงูโูุง ุงุณุชุงุชฺฉ
โโโ db.js               # ุชูุธูุงุช ูพุงฺฏุงู ุฏุงุฏู
โโโ server.js           # ูุงู ุงุตู ุณุฑูุฑ
โโโ db.json            # ูพุงฺฏุงู ุฏุงุฏู JSON
```

## ูุชุบุฑูุง ูุญุท

ูโุชูุงูุฏ ูุชุบุฑูุง ุฒุฑ ุฑุง ุชูุธู ฺฉูุฏ:

```env
PORT=4004
JWT_SECRET=your-secret-key-here
```

## ูฺฉุงุช ุงููุช

1. **ุชุบุฑ JWT Secret**: ุฏุฑ ูุญุท ุชููุฏ ุญุชูุงู `JWT_SECRET` ุฑุง ุชุบุฑ ุฏูุฏ
2. **ุชุบุฑ ุฑูุฒ ุงุฏูู**: ูพุณ ุงุฒ ุงููู ูุฑูุฏุ ุฑูุฒ ุนุจูุฑ ุงุฏูู ุฑุง ุชุบุฑ ุฏูุฏ
3. **HTTPS**: ุฏุฑ ูุญุท ุชููุฏ ุงุฒ HTTPS ุงุณุชูุงุฏู ฺฉูุฏ
4. **Rate Limiting**: ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุญููุงุชุ rate limiting ุงุถุงูู ฺฉูุฏ

## ูุดุงุฑฺฉุช

ุจุฑุง ูุดุงุฑฺฉุช ุฏุฑ ูพุฑูฺู:
1. Fork ฺฉูุฏ
2. Branch ุฌุฏุฏ ุงุฌุงุฏ ฺฉูุฏ
3. ุชุบุฑุงุช ุฑุง commit ฺฉูุฏ
4. Pull Request ุงุฑุณุงู ฺฉูุฏ

## ูุงุณูุณ

ุงู ูพุฑูฺู ุชุญุช ูุงุณูุณ MIT ููุชุดุฑ ุดุฏู ุงุณุช. 
